{"ast":null,"code":"import _slicedToArray from\"C:/Users/Emir/Desktop/movies and tv shows app/movies-tvshows-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useRef}from'react';import{useLocation}from'react-router-dom';import{TVContext,LocationURLContext,showSearchBarContext}from'../Context';import{useHistory}from'react-router-dom';import ReactPlayer from'react-player';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TVDetails(){var url_poster=\"https://image.tmdb.org/t/p/original\";var location=useLocation();var _useContext=useContext(TVContext),globalTVList=_useContext.globalTVList;var _useContext2=useContext(LocationURLContext),setLocationURL=_useContext2.setLocationURL;var _useContext3=useContext(showSearchBarContext),setShowSearchBarState=_useContext3.setShowSearchBarState;setShowSearchBarState(\"none\");setLocationURL(\"tv\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),videoURL=_useState2[0],setVideoURL=_useState2[1];console.log(location.pathname);var movieToDisplay;var youTubeKey;var hasTrailer=useRef(false);globalTVList.forEach(function(element){if(\"/TV/\".concat(element.name)===location.pathname||\"/movies-tvshows/TV/\".concat(element.name)===location.pathname){movieToDisplay=element;}});var urlRequestTrailerInfo=\"https://api.themoviedb.org/3/tv/\".concat(movieToDisplay.id,\"/videos?api_key=ea51221982d56a556eae4bf95cbfc41d&language=en-US\");axios.get(urlRequestTrailerInfo).then(function(response){var trailerInfo=response.data.results;if(trailerInfo.length===0){hasTrailer.current=false;}else{hasTrailer.current=true;youTubeKey=trailerInfo[0].key;setVideoURL(\"https://www.youtube.com/watch?v=\"+youTubeKey);}});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"movieDetailedView\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button2 backButton\",onClick:useHistory().goBack,children:\" < Back\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"detailedViewPoster\",children:!hasTrailer.current&&/*#__PURE__*/_jsx(\"img\",{src:url_poster+movieToDisplay.poster_path,alt:movieToDisplay.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"detailedViewTrailer\",children:hasTrailer.current&&/*#__PURE__*/_jsx(ReactPlayer,{url:videoURL,controls:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"detailedViewMovieTitle\",children:/*#__PURE__*/_jsx(\"p\",{children:movieToDisplay.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"movieDescription\",children:/*#__PURE__*/_jsx(\"p\",{children:movieToDisplay.overview})})]})});}","map":{"version":3,"sources":["C:/Users/Emir/Desktop/movies and tv shows app/movies-tvshows-db/src/Pages/TVDetails.js"],"names":["React","useContext","useState","useRef","useLocation","TVContext","LocationURLContext","showSearchBarContext","useHistory","ReactPlayer","axios","TVDetails","url_poster","location","globalTVList","setLocationURL","setShowSearchBarState","videoURL","setVideoURL","console","log","pathname","movieToDisplay","youTubeKey","hasTrailer","forEach","element","name","urlRequestTrailerInfo","id","get","then","response","trailerInfo","data","results","length","current","key","goBack","poster_path","overview"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,MAAtC,KAAoD,OAApD,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,SAAT,CAAoBC,kBAApB,CAAwCC,oBAAxC,KAAoE,YAApE,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAChC,GAAMC,CAAAA,UAAU,CAAG,qCAAnB,CACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,gBAAuBH,UAAU,CAACI,SAAD,CAAjC,CAAOS,YAAP,aAAOA,YAAP,CACA,iBAAyBb,UAAU,CAACK,kBAAD,CAAnC,CAAOS,cAAP,cAAOA,cAAP,CACA,iBAAgCd,UAAU,CAACM,oBAAD,CAA1C,CAAOS,qBAAP,cAAOA,qBAAP,CACAA,qBAAqB,CAAC,MAAD,CAArB,CAEAD,cAAc,CAAC,IAAD,CAAd,CACA,cAAgCb,QAAQ,CAAC,EAAD,CAAxC,wCAAOe,QAAP,eAAiBC,WAAjB,eACAC,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACQ,QAArB,EACA,GAAIC,CAAAA,cAAJ,CACA,GAAIC,CAAAA,UAAJ,CACA,GAAIC,CAAAA,UAAU,CAAGrB,MAAM,CAAC,KAAD,CAAvB,CACAW,YAAY,CAACW,OAAb,CAAqB,SAAAC,OAAO,CAAI,CAC5B,GAAG,cAAOA,OAAO,CAACC,IAAf,IAA0Bd,QAAQ,CAACQ,QAAnC,EAA+C,6BAAsBK,OAAO,CAACC,IAA9B,IAAyCd,QAAQ,CAACQ,QAApG,CAA6G,CACzGC,cAAc,CAAGI,OAAjB,CACH,CACJ,CAJD,EAMI,GAAIE,CAAAA,qBAAqB,2CAAsCN,cAAc,CAACO,EAArD,mEAAzB,CAEAnB,KAAK,CAACoB,GAAN,CAAUF,qBAAV,EAAiCG,IAAjC,CAAsC,SAACC,QAAD,CAAY,CAC9C,GAAMC,CAAAA,WAAW,CAAGD,QAAQ,CAACE,IAAT,CAAcC,OAAlC,CACA,GAAIF,WAAW,CAACG,MAAZ,GAAuB,CAA3B,CAA6B,CACzBZ,UAAU,CAACa,OAAX,CAAqB,KAArB,CACH,CAFD,IAGK,CACDb,UAAU,CAACa,OAAX,CAAqB,IAArB,CACAd,UAAU,CAAGU,WAAW,CAAC,CAAD,CAAX,CAAeK,GAA5B,CACApB,WAAW,CAAC,mCAAqCK,UAAtC,CAAX,CACH,CACJ,CAVD,EAYJ,mBACI,sCACA,aAAK,SAAS,CAAG,mBAAjB,wBACA,kCACI,eAAQ,SAAS,CAAG,oBAApB,CAAyC,OAAO,CAAGf,UAAU,GAAG+B,MAAhE,qBADJ,EADA,cAIQ,YAAK,SAAS,CAAG,oBAAjB,UACM,CAACf,UAAU,CAACa,OAAZ,eACF,YAAK,GAAG,CAAIzB,UAAU,CAAGU,cAAc,CAACkB,WAAxC,CAAqD,GAAG,CAAIlB,cAAc,CAACK,IAA3E,EAFJ,EAJR,cAQQ,YAAK,SAAS,CAAG,qBAAjB,UACEH,UAAU,CAACa,OAAX,eACF,KAAC,WAAD,EAAa,GAAG,CAAIpB,QAApB,CAA8B,QAAQ,CAAI,IAA1C,EAFA,EARR,cAYQ,YAAK,SAAS,CAAG,wBAAjB,uBACI,mBAAIK,cAAc,CAACK,IAAnB,EADJ,EAZR,cAeQ,YAAK,SAAS,CAAG,kBAAjB,uBACI,mBAAIL,cAAc,CAACmB,QAAnB,EADJ,EAfR,GADA,EADJ,CAuBH","sourcesContent":["import React, { useContext, useState, useRef } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { TVContext, LocationURLContext, showSearchBarContext } from '../Context';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ReactPlayer from 'react-player';\r\nimport axios from 'axios';\r\n\r\nexport default function TVDetails() {\r\n    const url_poster = \"https://image.tmdb.org/t/p/original\";\r\n    const location = useLocation();\r\n    const {globalTVList} = useContext(TVContext);\r\n    const {setLocationURL} = useContext(LocationURLContext);\r\n    const {setShowSearchBarState} = useContext(showSearchBarContext);\r\n    setShowSearchBarState(\"none\");\r\n\r\n    setLocationURL(\"tv\");\r\n    const [videoURL, setVideoURL] = useState(\"\");\r\n    console.log(location.pathname);\r\n    let movieToDisplay;\r\n    let youTubeKey;\r\n    var hasTrailer = useRef(false);\r\n    globalTVList.forEach(element => {\r\n        if(`/TV/${element.name}` === location.pathname || `/movies-tvshows/TV/${element.name}` === location.pathname){\r\n            movieToDisplay = element;\r\n        }\r\n    });\r\n\r\n        let urlRequestTrailerInfo = `https://api.themoviedb.org/3/tv/${movieToDisplay.id}/videos?api_key=ea51221982d56a556eae4bf95cbfc41d&language=en-US`;\r\n        \r\n        axios.get(urlRequestTrailerInfo).then((response)=>{\r\n            const trailerInfo = response.data.results;\r\n            if (trailerInfo.length === 0){\r\n                hasTrailer.current = false;\r\n            }\r\n            else {\r\n                hasTrailer.current = true;\r\n                youTubeKey = trailerInfo[0].key;\r\n                setVideoURL(\"https://www.youtube.com/watch?v=\" + youTubeKey);\r\n            }\r\n        })\r\n\r\n    return (\r\n        <>\r\n        <div className = \"movieDetailedView\">\r\n        <div>\r\n            <button className = \"button2 backButton\" onClick ={useHistory().goBack}> &#60; Back</button>\r\n        </div> \r\n                <div className = \"detailedViewPoster\">\r\n                    { !hasTrailer.current &&\r\n                    <img src = {url_poster + movieToDisplay.poster_path} alt = {movieToDisplay.name}/>}\r\n                </div>\r\n                <div className = \"detailedViewTrailer\">\r\n                { hasTrailer.current && \r\n                <ReactPlayer url = {videoURL} controls = {true}/>}\r\n                </div>\r\n                <div className = \"detailedViewMovieTitle\">\r\n                    <p>{movieToDisplay.name}</p> \r\n                </div>\r\n                <div className = \"movieDescription\">\r\n                    <p>{movieToDisplay.overview}</p>\r\n                </div>   \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}